{"version":3,"sources":["../../../../src/components/FormInput/CheckBox.tsx"],"names":["React","useState","useLayoutEffect","useRef","useContext","styled","FormContext","setFormValuesToCache","StyledRow","div","props","collapsed","StyledArrow","span","hasCollapse","theme","checkboxLabelArrowColor","CheckboxContainer","Icon","svg","checkboxMarkColor","HiddenCheckbox","input","attrs","type","StyledCheckbox","checkboxBgColor","error","checkboxBorderErrorColor","checkboxBorderColor","checked","StyledText","checkboxLabelTextColor","Checkbox","Wrapper","label","CheckboxBase","field","form","touched","errors","values","targetRef","setCollapsed","setHasCollapse","id","handleOnMouseOut","handleOnChange","e","onChange","onCollapseClick","current","offsetHeight","value","name"],"mappings":"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","sourcesContent":["/* eslint-disable indent */\nimport React, {\n  ReactElement,\n  useState,\n  useLayoutEffect,\n  useRef,\n  useContext,\n  ChangeEvent,\n} from 'react'\nimport { FormikErrors } from 'formik'\nimport styled from 'styled-components'\n\nimport { FieldWrapProps } from '../../types'\nimport { FormContext, setFormValuesToCache } from '../../utils'\n\ntype StyledProps = {\n  collapsed?: boolean\n  hasCollapse?: boolean\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  error?: FormikErrors<any>\n  checked?: boolean\n  theme: { [k: string]: string }\n}\n\nconst StyledRow = styled.div<StyledProps>`\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 12px;\n  position: relative;\n  height: ${(props: StyledProps): string =>\n    props.collapsed ? 'auto' : '20px'};\n  overflow: ${(props: StyledProps): string =>\n    props.collapsed ? 'none' : 'hidden'};\n`\n\nconst StyledArrow = styled.span<StyledProps>`\n  display: ${(props: StyledProps): string =>\n    props.hasCollapse ? 'flex' : 'none'};\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: ${(props: StyledProps): string =>\n    props.collapsed ? '0px 6px 9px 6px' : '9px 6px 0 6px'};\n  border-color: ${(props: StyledProps): string =>\n    props.collapsed\n      ? `transparent transparent ${props.theme.checkboxLabelArrowColor} transparent`\n      : `${props.theme.checkboxLabelArrowColor} transparent transparent transparent`};\n`\n\nconst CheckboxContainer = styled.div`\n  display: inline-block;\n  vertical-align: middle;\n`\n\nconst Icon = styled.svg`\n  fill: none;\n  stroke: ${(props: StyledProps): string => props.theme.checkboxMarkColor};\n  stroke-width: 2px;\n`\n\nconst HiddenCheckbox = styled.input.attrs({ type: 'checkbox' })`\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n`\n\nconst StyledCheckbox = styled.div<StyledProps>`\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  background: ${(props): string => props.theme.checkboxBgColor};\n  border-radius: 3px;\n  border: 1px solid;\n  border-color: ${(props: StyledProps): string =>\n    props.error\n      ? props.theme.checkboxBorderErrorColor\n      : props.theme.checkboxBorderColor};\n  transition: all 150ms;\n\n  ${Icon} {\n    visibility: ${(props: StyledProps): string =>\n      props.checked ? 'visible' : 'hidden'};\n  }\n`\n\nconst StyledText = styled.span`\n  display: flex;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 18px;\n  color: ${(props: StyledProps): string => props.theme.checkboxLabelTextColor};\n  padding-left: 10px;\n  padding-right: 25px;\n`\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst Checkbox = ({ checked, error, ...props }: any): ReactElement => (\n  <CheckboxContainer>\n    <HiddenCheckbox checked={checked} {...props} />\n    <StyledCheckbox checked={checked} error={error}>\n      <Icon viewBox=\"0 0 24 24\">\n        <polyline points=\"20 6 9 17 4 12\" />\n      </Icon>\n    </StyledCheckbox>\n  </CheckboxContainer>\n)\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst Wrapper = styled.label<any>`\n  display: flex;\n`\n\nexport const CheckboxBase: (props: FieldWrapProps) => ReactElement = ({\n  field,\n  form: { touched, errors, values },\n  ...props\n}) => {\n  const targetRef = useRef<HTMLDivElement>(null)\n  const [collapsed, setCollapsed] = useState(false)\n  const [hasCollapse, setHasCollapse] = useState(false)\n  const { id } = useContext(FormContext)\n\n  const handleOnMouseOut = (): void => {\n    setFormValuesToCache(values, id)\n  }\n\n  const handleOnChange = (e: ChangeEvent<HTMLInputElement>): void => {\n    props.onChange && props.onChange(e)\n    field.onChange && field.onChange(e)\n    setFormValuesToCache(values, id)\n  }\n\n  const onCollapseClick = (): void => setCollapsed(!collapsed)\n\n  useLayoutEffect(() => {\n    if (targetRef.current && targetRef.current.offsetHeight > 22) {\n      setHasCollapse(true)\n    }\n  }, [targetRef])\n\n  return (\n    <StyledRow hasCollapse={hasCollapse} collapsed={collapsed}>\n      <Wrapper ref={targetRef} onMouseOut={handleOnMouseOut}>\n        <Checkbox\n          {...field}\n          {...props}\n          onChange={handleOnChange}\n          checked={field.value}\n          value={field.value || false}\n          error={\n            (touched[field.name] && errors[field.name]) as  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              | FormikErrors<any>\n              | undefined\n          }\n        />\n        <StyledText>{props.label}</StyledText>\n      </Wrapper>\n      <StyledArrow\n        hasCollapse={hasCollapse}\n        collapsed={collapsed}\n        onClick={onCollapseClick}\n      />\n    </StyledRow>\n  )\n}\n\nexport default CheckboxBase\n"],"file":"CheckBox.js"}